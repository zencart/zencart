<!DOCTYPE html>
<!--
/**
 * @package documentation
 * @copyright Copyright 2003-2012 Zen Cart Development Team
 * @license http://www.zen-cart.com/license/2_0.txt GNU Public License V2.0
 * @version GIT: $Id: Author: DrByte  Tue Sep 18 22:22:22 2012 -0400 New in v1.5.1 $
 */
//-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
body, table{ font-family:Verdana, Arial, Helvetica, sans-serif; font-size:14px; }
fieldset.intro {border-color:#C96E29; }
.intro{background-color:#EEEEEE; border-color:#5778ce; font-size:14px; }
td.plainbox, div.callout {border: 1px dashed;border-color: #C96E29;margin:5px 40px 5px 40px;}
.heading {background-color:#5778CE; font-weight:bold; font-size:14px; width: 100%; }
.title1 {color:#C96E29; font-weight:bold; font-size:22px; }
.title2 {color:#C96E29; font-weight:bold; font-size:13px; }
.small {font-size:10px ;}
.error {color:#FF0000; }
.filename {font-family: mono, "Courier New", Courier ; font-size:14px; color:#c96e29;}
.pseudolink {text-decoration:underline; color:#5778CE;}
h1.intro { color: #ffffff; border:1px solid #aca893; background-color: #c96e29;  font-size: 22px;   padding: 4px;}
h1 { color: #ffffff;    border:1px solid #aca893;   background-color: #5778ce;   font-size: 20px;   padding: 4px;}
h2 { color: #c96e29;  font-size: 18px;}
h3 { color: #5778ce;  font-size: 16px; margin-bottom:0px;}
h4 { color: #c96e29;  font-size: 14px;}
h5 { color: #5778ce;  font-size: 16px; margin-bottom:0px; margin-top:0px; }
.style1 {
  font-size: 18px;
  font-weight: bold;
}
.emphasize {
  color: #336600;
}
fieldset {max-width: 748px; margin: auto}
.center {text-align: center}


-->
</style>
<title>What's New in Zen Cart(R) v1.5.1</title>
<meta http-equiv="imagetoolbar" content="no">
<meta name="author" content="The Zen Cart&reg; Team">
<meta name="robots" content="noindex, nofollow">
</head>
<body>

<fieldset class="intro">
<h1 class="intro" style="text-align: center;">Welcome to Zen Cart&reg;</h1>
<br>
The Zen Cart&reg; software is made available to you for use, additions, changes, modifications, etc. without charge, under the GNU General Public License.
<br>
<br>
While we do not charge for this software, donations are greatly appreciated each time you download a new version, to help cover the expenses of maintenance, upgrades, updates, the free support forum and the continued development of this software for your online e-commerce store.
<br>
<br>
Donations can be made at:
<a href="http://www.zen-cart.com/donate" target="_blank">The Zen Cart&reg; Team Page</a>
<br>
<br>
We appreciate your support.<br>
<em>The Zen Cart&reg; Team</em><br>
<br>

<p class="small center">
Zen Cart&reg; is derived from: Copyright  2003 osCommerce<br>
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;<br>
without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE<br>
and is redistributable under the GNU General Public License<br><br>
</p>
</fieldset>

<br>
<fieldset>
<p class="center"><img src="osi-certified-120x100.png" alt="O S I Certified"><br>
This software is OSI Certified Open Source Software.<br>
OSI Certified is a certification mark of the Open Source Initiative.
</p>
</fieldset>
<br>

<fieldset>
<h1>Upgrade Instructions</h1>
<h2>From v1.5.0 to v1.5.1</h2>
<p>Simple: if you are using v1.5.0 already and have not customized any of the files listed in the changed_files-v1-5-1.html document, then simply replace those files with the new versions contained herein.</p>
<p>If you HAVE customized or altered certain files, simply re-do your customizations in the new version of those particular files by making the same changes needed.</p>
<p>If you are using Addons/Plugins that have made alterations to those files, it is best to compare those changed files against the original v1.5.0 files, and see what changes were there ... and then re-build those changes in the v1.5.1 file.</p>
<h2>To v1.5.1 from v1.3.9h or older</h2>
<p>If you are upgrading from a version OLDER than v1.5.0, then please do a <a href="http://www.zen-cart.com/upgrades">standard complete site upgrade</a>.</p>

<h1>CHANGELOG - List of Changed Files </h1>
<p>For a list of files that have been changed since v1.5.0, see the <a href="changed_files-v1-5-1.html" target="_blank">changed_files-v1-5-1.html</a> </p>

<h1>Whats New ... Changes from v1.5.0 to v1.5.1 </h1>
<h3><strong>The following improvements and bugfixes are included in v1.5.1 since v1.5.0: </strong></h3>
Added:
<ul>
<li>CHANGE-207 - Add bypass to bandage the performance/caching problem with products_viewed counter on busy sites, inspired by an idea from data-diggers. This step simply splits the logic out into an observer class, and adds a switch to turn it on or off. Doesn't change any schema or any reports. But of course if the switch is set to something other than 'on', then the reports will be useless too unless alternate custom data tracking code is added to the observer class.</li>
<li>CHANGE-208 - Implement data-diggers querycache</li>
<li>CHANGE-220 - Add optional constant 'DOWNLOADS_SKIP_DOT_PREFIX_ON_REDIRECT' to overcome rare problem on some servers which won't allow use of dot-prefixed temporary files.    Usage: define('DOWNLOADS_SKIP_DOT_PREFIX_ON_REDIRECT', TRUE); in /includes/extra_configures/ folder.</li>
<li>CHANGE-238 - php 5.4 Updates, mainly for htmlentities() calls</li>
<li>CHANGE-240 - Add form auto-focus on advanced-search results and admin category lookups</li>
<li>CHANGE-265 - Add children support to category-specific stylesheet overrides -- ie: c_XX_XX_children.css</li>
<li>CHANGE-273 - Add css-driven antispam support to contact-us, create-account, and product reviews</li>
<li>CHANGE-282 - Add improved notifier support for the shipping calculate_boxes_weight_and_tare() function to allow for easier intercept by plugins</li>
<li>CHANGE-283 - Add coders the ability to allow for a custom count query in split page results class</li>
<li>CHANGE-284 - Update db schema and various code bits to handle longer lengths for IP addresses, to accommodate IPv6</li>
<li>CHANGE-287 - Add hooks for encryption tools needed by modules such as PPA</li>
<li>CHANGE-297 - Add improvements to notifier support for Downloads script (add all order data to observer resources)</li>
<li>CHANGE-298 - Move debug logging to separate /logs/ folder, as a performance improvement measure, and be more semantically meaningful</li>
</ul>
Fixes:
<ul>
<li>CHANGE-201 - Fix JS_STATE typo in /admin/includes/languages/english.php</li>
<li>CHANGE-202 - Fix compounding or multiple tax problems</li>
<li>CHANGE-204 - Fix problem with unescaped error messages in zc_install</li>
<li>CHANGE-205 - Fix error on Windows hosts: 'gzpost' can't have default value</li>
<li>CHANGE-206 - Fix admin profiles code to also manage product types</li>
<li>CHANGE-209 - Prevent the "apple double" effect in auto-loading folders ... ie: skip all files starting with "." or "_"</li>
<li>CHANGE-211 - Fix for bug where renaming an Admin Profile name allowed a blank entry.</li>
<li>CHANGE-213 - Fix missing check for EMAIL_DISCLAIMER constant, to help prevent problems caused by people who incorrectly delete the define from the language files.</li>
<li>CHANGE-214 - Fix various documentation errors</li>
<li>CHANGE-215 - Fix BOC currency exchange rate lookup to use newer source. Fix bug which could return 0.00 mistakenly in some cases.</li>
<li>CHANGE-216 - Fix handler for HTML Editor plugins - was missing trailing slash in lookup path</li>
<li>CHANGE-218 - Fix Admin alert email text (HTML content missing) on change of user details</li>
<li>CHANGE-219 - Fix multiple-content-length headers when downloading by redirect</li>
<li>CHANGE-221 - Fix cause of error message: PHP Warning: strlen() expects parameter 1 to be string, when triggered by customer notification preferences submission at checkout</li>
<li>CHANGE-222 - Fix the .htaccess restriction which was preventing the .cur image files from working with spiffyCal</li>
<li>CHANGE-223 - Fix Authorize.net SIM/echeck module "currency code invalid" error when customer is shopping in non-USD currency</li>
<li>CHANGE-230 - Fix password reset vulnerability (random seed/entropy issue)</li>
<li>CHANGE-231 - Fix page_not_found on session timeout to time_out instead</li>
<li>CHANGE-233 - Fix HTML error in admin/profiles.php page - /head should have been /thead</li>
<li>CHANGE-236 - Fix: Customer authorization e-mail not sent out on pressing "the red button".</li>
<li>CHANGE-239 - Fix virtual cart problem causing error: "PayPal has unexpectedly returned a blank address" only on carts with all virtual products</li>
<li>CHANGE-241 - Fix Improper handling of '0' as search keyword</li>
<li>CHANGE-242 - Fix output/display errors in admin user/profile tools.</li>
<li>CHANGE-244 - Fix name of form field for javascript character count which could break in non-english translations</li>
<li>CHANGE-246 - Improve exceptions for testing Authnet in Test Mode</li>
<li>CHANGE-249 - Fix to allow more than one onetime fee in the shopping basket</li>
<li>CHANGE-255 - Fix missing [close]  from popup_search_help template file</li>
<li>CHANGE-256 - Fix validation errors in manufacturers sidebox if manufacturer_name contains ampersands</li>
<li>CHANGE-259 - Fix Admin menu problem occurring only in Opera 12 on Windows</li>
<li>CHANGE-261 - Fix outdated error message text about PHP 5.4 and configure.php file problems</li>
<li>CHANGE-262 - Fix PHP Error when no Record Company ID with Typefilter</li>
<li>CHANGE-263 - Clarify password-expiry language to minimize alarmist reactions for those who don't understand the common use of expiring passwords</li>
<li>CHANGE-264 - Fix PHP Fatal error: 1062:Duplicate entry '1-1' for key 1 when adding option values</li>
<li>CHANGE-268 - Fix Hardcoded text in Reports/Customer Referrals</li>
<li>CHANGE-269 - Fix misspelled Germany state (zones table)</li>
<li>CHANGE-275 - Fix json_encode error on non-UTF8 sites</li>
<li>CHANGE-277 - Rebrand PayPal products (for USA merchants only) according to changes implemented by PayPal in Q2 2012</li>
<li>CHANGE-279 - Fix PayPal Processor Decline Fails to Show Error Message when debug logging disabled</li>
<li>CHANGE-280 - Fix inconsistency in dist-configure.php example files</li>
<li>CHANGE-281 - Fix incorrect database constant used in tpl_account_default.php</li>
<li>CHANGE-294 - Fix issue where a customer who is banned after login could still checkout</li>
<li>CHANGE-296 - Update outdated Admin error message text for secure usernames</li>
<li>CHANGE-299 - update to change-230</li>
<li>CHANGE-199 - Fix various vulnerabilities in zc_install</li>
<li>CHANGE-325 - Admin Configuration does not correctly encode html entities in text boxes</li>
<li>CHANGE-327 - Update PayPal sandbox endpoints</li>
<li>CHANGE-334 - PHP Warning: strip_tags() expects at most 2 parameters, 4 given in coupon_admin.php</li>
</ul>

</fieldset>
<br><br>
<p class="center"><em>Copyright 2003 - 2012 Zen Ventures, LLC &mdash; Zen Cart&reg; www.zen-cart.com</em></p>
<br><br>
</body>
</html>
